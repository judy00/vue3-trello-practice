import{bq as p,k as u,aY as v,br as b}from"./index.ece8d024.js";const f=()=>Math.random().toString(36).substring(2)+Date.now().toString(36),T=[{id:"61bblwnux0tlb1vp3qk",title:"In Progress",tasks:[{id:"79bcdufvlfdlb1voaq5",title:"\u529F\u80FD A",content:"\u529F\u80FD A \u63CF\u8FF0"},{id:"4ffywwh2sfelb1vob44",title:"\u529F\u80FD B",content:"\u529F\u80FD B \u63CF\u8FF0"}]},{id:"1ix2wxwsldblb1vpa4h",title:"Completed",tasks:[{id:"zm3frri5a4lb0l8c2e",title:"\u529F\u80FD C",content:"\u529F\u80FD C \u63CF\u8FF0"},{id:"b8ijxyk2o9lb1vnzio",title:"\u529F\u80FD D",content:"\u529F\u80FD D \u63CF\u8FF0"}]}],C=p("store",()=>{const a=u(JSON.parse(localStorage.getItem("trello-lists"))||T);v(a,t=>{localStorage.setItem("trello-lists",JSON.stringify(t))},{deep:!0});const r=b(),o=u({}),k=(t,e)=>{const s=a.value.find(n=>n.id===t).tasks.find(n=>n.id===e);o.value={cardId:t,...s},r.push(`/task/${t}/${e}`)},d=()=>{o.value={},r.push("/")};return{list:a,currentEditTask:o,openEditTask:k,closeEditTask:d,addNewCard:(t="")=>{!t||a.value.push({id:f(),title:t,tasks:[]})},updateListTitle:(t="",e="")=>{const i=a.value.find(s=>s.id===t);e?i.title=e:a.value=a.value.filter(s=>s.id!==t)},addTask:(t="",e="")=>{if(!t||!e)return;a.value.find(s=>s.id===t).tasks.push({id:f(),title:e,content:""})},updateTask:(t,e,i="",s="")=>{const c=a.value.find(l=>l.id===t).tasks.find(l=>l.id===e);c.title=i,c.content=s,d()},deleteTask:(t,e)=>{const i=a.value.find(s=>s.id===t);i.tasks=i.tasks.filter(s=>s.id!==e),d()}}});export{C as u};
